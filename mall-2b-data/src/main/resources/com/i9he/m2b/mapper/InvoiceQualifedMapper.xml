<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd" >
<mapper namespace="com.i9he.m2b.mapper.InvoiceQualifedMapper" >
  <resultMap id="BaseResultMap" type="com.i9he.m2b.model.InvoiceQualifed" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      copyright@ www.9he.com
    -->
    <id column="id" property="id" jdbcType="INTEGER" />
    <result column="user_id" property="userId" jdbcType="INTEGER" />
    <result column="organization" property="organization" jdbcType="VARCHAR" />
    <result column="user_idcode" property="userIdcode" jdbcType="VARCHAR" />
    <result column="regist_address" property="registAddress" jdbcType="VARCHAR" />
    <result column="regist_phone" property="registPhone" jdbcType="VARCHAR" />
    <result column="bank" property="bank" jdbcType="VARCHAR" />
    <result column="bank_account" property="bankAccount" jdbcType="VARCHAR" />
    <result column="is_review" property="isReview" jdbcType="TINYINT" />
    <result column="review_result" property="reviewResult" jdbcType="TINYINT" />
    <result column="review_time" property="reviewTime" jdbcType="TIMESTAMP" />
    <result column="created_time" property="createdTime" jdbcType="TIMESTAMP" />
  </resultMap>
  <sql id="Base_Column_List" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      copyright@ www.9he.com
    -->
    id, user_id, organization, user_idcode, regist_address, regist_phone, bank, bank_account, 
    is_review, review_result, review_time, created_time
  </sql>
  <select id="selectByPrimaryKey" resultMap="BaseResultMap" parameterType="java.lang.Integer" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      copyright@ www.9he.com
    -->
    select 
    <include refid="Base_Column_List" />
    from b2b_invoice_qualifed
    where id = #{id,jdbcType=INTEGER}
  </select>
  <insert id="insert" parameterType="com.i9he.m2b.model.InvoiceQualifed" useGeneratedKeys="true" keyProperty="id" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      copyright@ www.9he.com
    -->
    insert into b2b_invoice_qualifed (user_id, organization, user_idcode, 
      regist_address, regist_phone, bank, 
      bank_account, is_review, review_result, 
      review_time, created_time)
    values (#{userId,jdbcType=INTEGER}, #{organization,jdbcType=VARCHAR}, #{userIdcode,jdbcType=VARCHAR}, 
      #{registAddress,jdbcType=VARCHAR}, #{registPhone,jdbcType=VARCHAR}, #{bank,jdbcType=VARCHAR}, 
      #{bankAccount,jdbcType=VARCHAR}, #{isReview,jdbcType=TINYINT}, #{reviewResult,jdbcType=TINYINT}, 
      #{reviewTime,jdbcType=TIMESTAMP}, #{createdTime,jdbcType=TIMESTAMP})
  </insert>
  <insert id="insertSelective" parameterType="com.i9he.m2b.model.InvoiceQualifed" useGeneratedKeys="true" keyProperty="id" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      copyright@ www.9he.com
    -->
    insert into b2b_invoice_qualifed
    <trim prefix="(" suffix=")" suffixOverrides="," >
      <if test="userId != null" >
        user_id,
      </if>
      <if test="organization != null" >
        organization,
      </if>
      <if test="userIdcode != null" >
        user_idcode,
      </if>
      <if test="registAddress != null" >
        regist_address,
      </if>
      <if test="registPhone != null" >
        regist_phone,
      </if>
      <if test="bank != null" >
        bank,
      </if>
      <if test="bankAccount != null" >
        bank_account,
      </if>
      <if test="isReview != null" >
        is_review,
      </if>
      <if test="reviewResult != null" >
        review_result,
      </if>
      <if test="reviewTime != null" >
        review_time,
      </if>
      <if test="createdTime != null" >
        created_time,
      </if>
    </trim>
    <trim prefix="values (" suffix=")" suffixOverrides="," >
      <if test="userId != null" >
        #{userId,jdbcType=INTEGER},
      </if>
      <if test="organization != null" >
        #{organization,jdbcType=VARCHAR},
      </if>
      <if test="userIdcode != null" >
        #{userIdcode,jdbcType=VARCHAR},
      </if>
      <if test="registAddress != null" >
        #{registAddress,jdbcType=VARCHAR},
      </if>
      <if test="registPhone != null" >
        #{registPhone,jdbcType=VARCHAR},
      </if>
      <if test="bank != null" >
        #{bank,jdbcType=VARCHAR},
      </if>
      <if test="bankAccount != null" >
        #{bankAccount,jdbcType=VARCHAR},
      </if>
      <if test="isReview != null" >
        #{isReview,jdbcType=TINYINT},
      </if>
      <if test="reviewResult != null" >
        #{reviewResult,jdbcType=TINYINT},
      </if>
      <if test="reviewTime != null" >
        #{reviewTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createdTime != null" >
        #{createdTime,jdbcType=TIMESTAMP},
      </if>
    </trim>
  </insert>
  <update id="updateByPrimaryKeySelective" parameterType="com.i9he.m2b.model.InvoiceQualifed" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      copyright@ www.9he.com
    -->
    update b2b_invoice_qualifed
    <set >
      <if test="userId != null" >
        user_id = #{userId,jdbcType=INTEGER},
      </if>
      <if test="organization != null" >
        organization = #{organization,jdbcType=VARCHAR},
      </if>
      <if test="userIdcode != null" >
        user_idcode = #{userIdcode,jdbcType=VARCHAR},
      </if>
      <if test="registAddress != null" >
        regist_address = #{registAddress,jdbcType=VARCHAR},
      </if>
      <if test="registPhone != null" >
        regist_phone = #{registPhone,jdbcType=VARCHAR},
      </if>
      <if test="bank != null" >
        bank = #{bank,jdbcType=VARCHAR},
      </if>
      <if test="bankAccount != null" >
        bank_account = #{bankAccount,jdbcType=VARCHAR},
      </if>
      <if test="isReview != null" >
        is_review = #{isReview,jdbcType=TINYINT},
      </if>
      <if test="reviewResult != null" >
        review_result = #{reviewResult,jdbcType=TINYINT},
      </if>
      <if test="reviewTime != null" >
        review_time = #{reviewTime,jdbcType=TIMESTAMP},
      </if>
      <if test="createdTime != null" >
        created_time = #{createdTime,jdbcType=TIMESTAMP},
      </if>
    </set>
    where id = #{id,jdbcType=INTEGER}
  </update>
  <update id="updateByPrimaryKey" parameterType="com.i9he.m2b.model.InvoiceQualifed" >
    <!--
      WARNING - @mbggenerated
      This element is automatically generated by MyBatis Generator, do not modify.
      copyright@ www.9he.com
    -->
    update b2b_invoice_qualifed
    set user_id = #{userId,jdbcType=INTEGER},
      organization = #{organization,jdbcType=VARCHAR},
      user_idcode = #{userIdcode,jdbcType=VARCHAR},
      regist_address = #{registAddress,jdbcType=VARCHAR},
      regist_phone = #{registPhone,jdbcType=VARCHAR},
      bank = #{bank,jdbcType=VARCHAR},
      bank_account = #{bankAccount,jdbcType=VARCHAR},
      is_review = #{isReview,jdbcType=TINYINT},
      review_result = #{reviewResult,jdbcType=TINYINT},
      review_time = #{reviewTime,jdbcType=TIMESTAMP},
      created_time = #{createdTime,jdbcType=TIMESTAMP}
    where id = #{id,jdbcType=INTEGER}
  </update>
   <sql id="whereForSearchModel">
  	<where>
  		is_del = 0
  		<if test="isReview != null">
  			and is_review = #{isReview}
  		</if>
  		<if test="reviewResult != null">
  			and review_result = #{reviewResult}
  		</if>
  		<trim prefix="AND(" prefixOverrides="AND|OR" suffix=")">
	    	<if test="userList != null and userList.size() != 0">
	    		OR user_id in <foreach close=")" collection="userList" item="item" open="(" separator=",">#{item}</foreach>
	    	</if>
    	</trim>
  	</where>
  </sql>
  <select id="selectBySearchModel" parameterType="com.i9he.m2b.model.search.InvoiceQualifedSearchModel" resultMap="BaseResultMap">
    select
    <include refid="Base_Column_List" />
    from b2b_invoice_qualifed
    <include refid="whereForSearchModel" />
    order by id desc
  </select>
  <select id="selectCountBySearchModel" parameterType="com.i9he.m2b.model.search.InvoiceQualifedSearchModel" resultType="int">
    select count(1) from b2b_invoice_qualifed
    <include refid="whereForSearchModel" />
  </select>
  
  <select id="findByUserId" parameterType="Integer" resultMap="BaseResultMap">
  		select 
  		<include refid="Base_Column_List" />
  		from b2b_invoice_qualifed
  		where user_id=#{userId}
  		and review_result =1
  </select>
</mapper>